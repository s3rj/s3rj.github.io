//We will use the MutationObserver API to monitor the DOM changes within a button panel 
//and play a sound when the "Start Turn" or other buttons that require a response apear in the panel

// select alert sound 
var soundAlert = new Audio("/sound/ting.mp3");

//select target
var target = $("[data-reactid='.7.0.1.1.1.0']")[0];

//instantiate observer
var observer = new MutationObserver(function(mutations){
  mutations.forEach(function(mutation) {
    if (mutation.addedNodes.length>=1){
        if (mutation.addedNodes[0].firstChild.data == 'Start Turn'){
            console.log('success');
            soundAlert.play();
        }
        if(mutation.addedNodes[0].firstChild.data == 'No more action'){
            soundAlert.play();
        }
        if(mutation.addedNodes[0].firstChild.data == 'Action before access'){
            soundAlert.play();
        }   
    }
  });
});

//observer config
var config = { attributes: true, childList: true, characterData:true };

//pass target and config to observer
observer.observe(target,config);